{"version":3,"sources":["components/TodoItem.js","redux/selectors.js","constants/filterTypes.js","redux/actionTypes.js","redux/actions.js","hooks/useTodo.js","App.js","redux/reducers/todos.js","redux/reducers/index.js","redux/reducers/filters.js","redux/stores.js","index.js"],"names":["TodoItemWrapper","styled","div","props","theme","colors","primary_4","TodoContent","primary_5","$isDone","TodoButtonWrapper","TodoButton","button","DangerButton","todoItem","todo","deleteTodo","toggleTodo","data-id","id","isDone","content","onClick","selectTodos","stores","todoState","todos","selectFilter","filterState","COMPLETED","UNCOMPLETED","ADD_TODO","GET_TODOS","DELETE_TODO","TOGGLE_TODO","SET_FILTER","CLEAR_TODOS","setFilterState","filter","type","payload","useTodo","useState","inputValue","setInputValue","useSelector","dispatch","useDispatch","useEffect","window","localStorage","setItem","JSON","stringify","writeTodosToLocalStorage","showedTodos","handleInputChange","e","target","value","addTodo","trim","key","deleteTodoState","toggleTodoState","showAll","showCompleted","showUncompleted","clearAll","Title","h1","Filter","Button","NewTodoInput","input","Container","App","className","style","marginBottom","placeholder","onChange","onKeyPress","map","initialState","todoData","parse","getItem","combineReducers","state","action","undefined","length","createStore","rootReducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","store","primary_1","primary_2","primary_3","document","getElementById"],"mappings":"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","file":"static/js/main.9f67e08f.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nconst TodoItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px 20px;\n  margin-top: 20px;\n  word-break: break-word;\n  width: 95%;\n  border-bottom: 0.5px solid ${(props) => props.theme.colors.primary_4};\n  & + & {\n    margin-top: 5px;\n  }\n  & button {\n    opacity: 0;\n  }\n  &:hover button {\n    opacity: 1;\n  }\n`;\n\nconst TodoContent = styled.div`\n  color: ${(props) => props.theme.colors.primary_5};\n  font-size: 22px;\n  word-break: break-word;\n  width: 68%;\n  ${(props) => props.$isDone && `text-decoration: line-through;`}\n`;\n\nconst TodoButtonWrapper = styled.div``;\n\nconst TodoButton = styled.button`\n  margin: 5px 0 0 10px;\n  transition: all 0.1s linear;\n`;\n\nconst DangerButton = styled(TodoButton)`\n  background: #255e69;\n  color: whitesmoke;\n`;\n\nexport default function todoItem({ todo, deleteTodo, toggleTodo }) {\n  const handleDeleteClick = () => deleteTodo(todo.id);\n  const handleCompleteClick = () => toggleTodo(todo.id);\n\n  return (\n    <TodoItemWrapper data-id={todo.id}>\n      <TodoContent $isDone={todo.isDone}>{todo.content}</TodoContent>\n      <TodoButtonWrapper>\n        <TodoButton onClick={handleCompleteClick}>\n          {todo.isDone ? '未完成' : '已完成'}\n        </TodoButton>\n        <DangerButton onClick={handleDeleteClick}>刪除</DangerButton>\n      </TodoButtonWrapper>\n    </TodoItemWrapper>\n  );\n}\n","export const selectTodos = (stores) => stores.todoState.todos;\nexport const selectFilter = (stores) => stores.filterState;","export const ALL = 'ALL';\nexport const COMPLETED = 'COMPLETED';\nexport const UNCOMPLETED = 'UNCOMPLETED';","export const ADD_TODO = 'ADD_TODO';\nexport const GET_TODOS = 'GET_TODOS';\nexport const DELETE_TODO = 'DELETE_TODO';\nexport const TOGGLE_TODO = 'TOGGLE_TODO';\nexport const SET_FILTER = 'SET_FILTER';\nexport const CLEAR_TODOS = 'CLEAR_TODOS';\n","import {\n  ADD_TODO,\n  DELETE_TODO,\n  TOGGLE_TODO,\n  SET_FILTER,\n  CLEAR_TODOS,\n  GET_TODOS,\n} from './actionTypes';\n\nexport function addTodoState(content) {\n  return {\n    type: ADD_TODO,\n    payload: { content },\n  };\n}\n\nexport function deleteTodoState(id) {\n  return {\n    type: DELETE_TODO,\n    payload: { id },\n  };\n}\n\nexport function toggleTodoState(id) {\n  return {\n    type: TOGGLE_TODO,\n    payload: { id },\n  };\n}\n\nexport function clearTodosState() {\n  return {\n    type: CLEAR_TODOS,\n  };\n}\n\nexport function getTodosState() {\n  return {\n    type: GET_TODOS,\n  };\n}\n\nexport function setFilterState(filter) {\n  return {\n    type: SET_FILTER,\n    payload: { filter },\n  };\n}\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectTodos, selectFilter } from '../redux/selectors';\nimport { ALL, COMPLETED, UNCOMPLETED } from '../constants/filterTypes';\nimport {\n  addTodoState,\n  deleteTodoState,\n  toggleTodoState,\n  clearTodosState,\n  setFilterState,\n  getTodosState,\n} from '../redux/actions';\n\nfunction writeTodosToLocalStorage(todos) {\n  window.localStorage.setItem('todos', JSON.stringify(todos));\n}\n\nexport default function useTodo() {\n  const [inputValue, setInputValue] = useState('');\n  const handleInputChange = (e) => setInputValue(e.target.value);\n  const todos = useSelector(selectTodos);\n  const filter = useSelector(selectFilter);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    writeTodosToLocalStorage(todos);\n  }, [todos]);\n\n  useEffect(() => {\n    dispatch(getTodosState());\n  }, [dispatch]);\n\n  const addTodo = (e) => {\n    if (inputValue.trim() !== '' && e.key === 'Enter') {\n      dispatch(addTodoState(inputValue));\n      setInputValue('');\n    }\n  };\n\n  const deleteTodo = (id) => {\n    dispatch(deleteTodoState(id));\n  };\n\n  const toggleTodo = (id) => {\n    dispatch(toggleTodoState(id));\n  };\n\n  const showAll = () => {\n    dispatch(setFilterState(ALL));\n  };\n\n  const showCompleted = () => {\n    dispatch(setFilterState(COMPLETED));\n  };\n\n  const showUncompleted = () => {\n    dispatch(setFilterState(UNCOMPLETED));\n  };\n\n  const clearAll = () => {\n    dispatch(clearTodosState());\n  };\n\n  const showedTodos = todos.filter((todo) => {\n    switch (filter) {\n      case ALL: {\n        return todo;\n      }\n      case COMPLETED: {\n        return todo.isDone === true;\n      }\n      case UNCOMPLETED: {\n        return todo.isDone === false;\n      }\n      default: {\n        return todo;\n      }\n    }\n  });\n\n  return {\n    inputValue,\n    showedTodos,\n    setInputValue,\n    handleInputChange,\n    addTodo,\n    deleteTodo,\n    toggleTodo,\n    showAll,\n    showCompleted,\n    showUncompleted,\n    clearAll,\n  };\n}\n","import './App.css';\nimport styled from 'styled-components';\nimport TodoItem from './components/TodoItem';\nimport useTodo from './hooks/useTodo';\n\nconst Title = styled.h1``;\n\nconst Filter = styled.div``;\n\nconst Button = styled.button`\n  margin-left: 10px;\n`;\n\nconst DangerButton = styled(Button)`\n  background: #255e69;\n  color: whitesmoke;\n`;\n\nconst NewTodoInput = styled.input`\n  padding: 10px 10px;\n  width: calc(100% - 20px);\n  background-color: #6a959d;\n  color: whitesmoke;\n  font-size: 20px;\n  vertical-align: middle;\n`;\n\nconst Container = styled.div`\n  margin: 40px auto;\n  padding: 30px;\n  max-width: 700px;\n  background-color: #D1E2E5;\n  font-family: 'Josefin Sans', sans-serif;\n}\n`;\n\nfunction App() {\n  const {\n    inputValue,\n    showedTodos,\n    handleInputChange,\n    addTodo,\n    deleteTodo,\n    toggleTodo,\n    showAll,\n    showCompleted,\n    showUncompleted,\n    clearAll,\n  } = useTodo();\n\n  return (\n    <div className=\"App\">\n      <Container>\n        <Title>Redux Hooks Todo List</Title>\n        <Filter style={{ marginBottom: '30px' }}>\n          <Button onClick={showAll}>全部</Button>\n          <Button onClick={showCompleted}>已完成</Button>\n          <Button onClick={showUncompleted}>未完成</Button>\n          <DangerButton onClick={clearAll}>清空</DangerButton>\n        </Filter>\n\n        <NewTodoInput\n          type=\"text\"\n          placeholder=\"Type something and press enter\"\n          value={inputValue}\n          onChange={handleInputChange}\n          onKeyPress={addTodo}\n        />\n\n        {showedTodos.map((todo) => (\n          <TodoItem\n            key={todo.id}\n            todo={todo}\n            deleteTodo={deleteTodo}\n            toggleTodo={toggleTodo}\n          />\n        ))}\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import {\n  ADD_TODO,\n  DELETE_TODO,\n  TOGGLE_TODO,\n  CLEAR_TODOS,\n  GET_TODOS,\n} from '../actionTypes';\n\nconst initialState = { todos: [] };\n\nconst todoData = JSON.parse(window.localStorage.getItem('todos'));\n\nexport default function todosReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_TODOS: {\n      return {\n        ...state,\n        todos: todoData && todoData[0] !== undefined ? todoData : [],\n      };\n    }\n\n    case ADD_TODO: {\n      return {\n        ...state,\n        todos: [\n          {\n            id: state.todos.length ? state.todos[0].id + 1 : 1,\n            content: action.payload.content,\n            isDone: false,\n          },\n          ...state.todos,\n        ],\n      };\n    }\n\n    case DELETE_TODO: {\n      return {\n        ...state,\n        todos: state.todos.filter((todo) => todo.id !== action.payload.id),\n      };\n    }\n\n    case TOGGLE_TODO: {\n      return {\n        ...state,\n        todos: state.todos.map((todo) => {\n          if (todo.id !== action.payload.id) return todo;\n          return {\n            ...todo,\n            isDone: !todo.isDone,\n          };\n        }),\n      };\n    }\n\n    case CLEAR_TODOS: {\n      return {\n        ...state,\n        todos: [],\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import { combineReducers } from 'redux';\nimport todos from './todos';\nimport filters from './filters';\n\nexport default combineReducers({\n  todoState: todos,\n  filterState: filters,\n});\n","import { SET_FILTER } from '../actionTypes';\n\nconst initialState = 'ALL';\n\nexport default function filterReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_FILTER: {\n      return action.payload.filter;\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nexport default createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { ThemeProvider } from 'styled-components';\nimport { Provider } from 'react-redux';\nimport store from './redux/stores';\n\nconst theme = {\n  colors: {\n    primary_1: '#6A959D',\n    primary_2: '#D1E2E5',\n    primary_3: '#9EBEC4',\n    primary_4: '#467B85',\n    primary_5: '#255E69',\n  },\n};\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>    \n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}